## Составляющие расширения их название и роль. Фоновая страница, контент-скрипт. Время жизни, какие данные можно хранить.

Задать вопрос, что из себя представляет js с точки зрения браузера.
Две составляющие, конкретно нашего расширения.
Фоновая страница.
Т.к. в браузере, скрипт не может, так сказать "висеть где-то в пространстве", он должен к чему-то крепиться. Пустой dom, является фоновой страницей, к которому как раз прикреплен наш background.js.
Добавляем background.js.
Добавляем слушателя нажатия на кнопку рядом с омнибоксом.
Сразу же акцентируем внимание на том, что средства отладки могут приподнести сюрприз в виде lazy properties.

Вторая составляющая нашего успеха - inject.js. js-код который будет внедрятся на нужные нам страницы.
Внедрение выполняется так см. background.js
Добавим условие, для того чтобы внедрение происходило только на нужные нам страницы.
Т.к. мы храним состояни, данные о закладках будем сохранять в коллекцию.
При наступлении события load - удаляем закладку, т.к. это значит что ее обновили
При наступлении события complete - создаем новый объект для хранения информации о закладке и выполняем внедрение.

В background.js можно хранить любые данные, которые могут быть представлены в js. Вы ограничены только фантазией и конечно ресурсами аппаратного обеспечения

