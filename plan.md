# План 

1. Что такое расширения.
    * Для чего выпускают ПО, и не только ПО, с урезанной функциональностью.
    * Точки интеграции для сторонних разработчиков.
    * Стандартизация расширений для браузеров Browser extension community group(https://www.w3.org/community/browserext/).

2. Что из себя представляет расширение.
    * Расширение - небольшая программа написанная с использованием web-технологий html, JavaScript и CSS.
    * Возможности доступные расширению.  
    * Среда исполнения расширения.
    * Что из себя представляет расширение с точки зрения браузера(пустой DOM)  

3. Пишем простое расширение
    * Метаописание manifest.json и ключевые атрибуты.
    * permissions - разрешения на действия для расширения. Какие разрешения бывают. Паттерны для разрешений.
    * Не ключевые атрибуты, важные для нашего примера.
    * Составляющие расширения их название и роль. Фоновая страница, контент-скрипт.
    * Взаимодействие контент-скрипта со страницей сайта открытой в браузере.
    * Ограничения взаимодействия, почему так, как делать правильно.
    * События фоновой страницы и подписка на них.
    * Время жизни, какие данные можно хранить.
    * Нюансы отладки. Как случайно не развалить стек вызова наведя указатель мыши на переменную
    * id - расширения, как он формируется, как его "зафиксировать".
    * Загрузка расширения в браузер.
    * Упаковка расширения в crx-архив.

4.	Что такое приложение хоста.
    * Объяснение необходимости возможности получения доступа к среде исполнения вне браузера.
    * Взаимодействие в эпоху NPAPI(Netscape Plugin Application Programming Interface). Эпоха закончилась.
    * Пример №1 со строгой аутентификации использующей токены и Trust Screen-устройства. Способ решения с помощью предустановленного приложения и общения по http.
    * Пример №2 работа с оборудованием, взаимодействия с файловой системой. Способ из 4.3. небыстрый, по этому не подходит.
    * Native Messaging приходит на помощь современному разработчику. Способ взаимодействия.      

5. Добавляем к расширению изоготовленному в п.3. простое java приложение.
    * Файл метаописания manifest.json и его атрибуты. Какие значения должны быть заданы. Какие расширения имеют доступ к приложению хоста.
    * Обьясняем формат обмена данными.
    * С RxJava приложение выглядит элегантнее чем без. Стиль становится более похожим на стиль написания расширения.
    * Как сделать так, чтобы браузер узнал что нужно запускать. Особенности регистрации приложения хоста в MS Windows и Linux.
    * Особенность запуска java-приложения. echo off - как можно ошибиться, а потом долго думать что не так
    * С чем приходилось сталкиваться в разных версиях Chrome
    * Окружение исполнения - отсутствие ssandbox, текущий каталог.
    * Что делать если не запускается? Sysinternals Suite, режим трассировки в браузере.
    * Можно ли в приложении использовать UI.

6.	Сравнение с другими технологиями
    * Сравнение с Java-апплетами.
    * Сравнение с Java Web Start. Все вроде хорошо, но общаться можно только с помощью http или websocket. 6.3. Большой плюс - то что если все правильно сделать, раширение работает с приложением и не требует специльной настройки безопасности, не отображает пугащие пользователя предупреждения. 

7. Резюмируя:
    * Недостатки
    * Большое количество подводных камней.
    * Трудности диагностики. Если что-то пошло не так, трудно понять почему.
    * Специальное ограничение именно для твоего случая. Пример - доступ по протоколам http и file для различных вариантов исполнения фоновых страниц. Сейчас чтобы избежать проблемы, при разработке, лучше не загружать html и js файлы напрямую с диска в браузер, а испльзовать простейший сервер, который будет отдавать необходимый контент. 
    * В остальном, технология расширений в связке с native messaging выглядит гораздо перспективнее своих собратьев, которые к тому же отживают век и в модерновых версиях браузеров могут просто не появится с выходом очередной версии. 