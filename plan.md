# План 

## I. Что такое расширения.
1. Для чего выпускают ПО, и не только ПО, с урезанной функциональностью.
2. Точки интеграции для сторонних разработчиков.
3. Стандартизация расширений для браузеров Browser extension community group(https://www.w3.org/community/browserext/).

## II. Что из себя представляет расширение.
1. Расширение - небольшая программа написанная с использованием web-технологий html, JavaScript и CSS.
2. Возможности доступные расширению.  
3. Среда исполнения расширения.
4. Что из себя представляет расширение с точки зрения браузера(пустой DOM)  

## III. Пишем простое расширение
1. Метаописание manifest.json и ключевые атрибуты.
2. permissions - разрешения на действия для расширения. Какие разрешения бывают. Паттерны для разрешений.
3. Не ключевые атрибуты, важные для нашего примера.
4. Составляющие расширения их название и роль. Фоновая страница, контент-скрипт.
5. Взаимодействие контент-скрипта со страницей сайта открытой в браузере.
6. Ограничения взаимодействия, почему так, как делать правильно.
7. События фоновой страницы и подписка на них.
8. Время жизни, какие данные можно хранить.
9. Нюансы отладки. Как случайно не развалить стек вызова наведя указатель мыши на переменную
10. id - расширения, как он формируется, как его "зафиксировать".
11. Загрузка расширения в браузер.
12. Упаковка расширения в crx-архив.

## IV.	Что такое приложение хоста.
1. Объяснение необходимости возможности получения доступа к среде исполнения вне браузера.
2. Взаимодействие в эпоху NPAPI(Netscape Plugin Application Programming Interface). Эпоха закончилась.
3. Пример №1 со строгой аутентификации использующей токены и Trust Screen-устройства. Способ решения с помощью предустановленного приложения и общения по http.
4. Пример №2 работа с оборудованием, взаимодействия с файловой системой. Способ из 4.3. небыстрый, по этому не подходит.
5. Native Messaging приходит на помощь современному разработчику. Способ взаимодействия.      

## V. Добавляем к расширению изоготовленному в п.3. простое java приложение.
1. Файл метаописания app-name.json и его атрибуты. Какие значения должны быть заданы. Какие расширения имеют доступ к приложению хоста.
2. Обьясняем формат обмена данными.
3. С RxJava приложение выглядит элегантнее чем без. Стиль становится более похожим на стиль написания расширения.
4. Как сделать так, чтобы браузер узнал что нужно запускать. Особенности регистрации приложения хоста в MS Windows и Linux.
5. Особенность запуска java-приложения. echo off - как можно ошибиться, а потом долго думать что не так
6. С чем приходилось сталкиваться в разных версиях Chrome
7. Окружение исполнения - отсутствие ssandbox, текущий каталог.
8. Что делать если не запускается? Sysinternals Suite, режим трассировки в браузере.
9. Можно ли в приложении использовать UI.

## VI.	Сравнение с другими технологиями
1. Сравнение с Java-апплетами.
2. Сравнение с Java Web Start. Все вроде хорошо, но общаться можно только с помощью http или websocket. 6.3. Большой плюс - то что если все правильно сделать, раширение работает с приложением и не требует специльной настройки безопасности, не отображает пугащие пользователя предупреждения. 

## VII. Резюмируя:
1. Недостатки
2. Большое количество подводных камней.
3. Трудности диагностики. Если что-то пошло не так, трудно понять почему.
4. Специальное ограничение именно для твоего случая. Пример - доступ по протоколам http и file для различных вариантов исполнения фоновых страниц. Сейчас чтобы избежать проблемы, при разработке, лучше не загружать html и js файлы напрямую с диска в браузер, а испльзовать простейший сервер, который будет отдавать необходимый контент. 
5. В остальном, технология расширений в связке с native messaging выглядит гораздо перспективнее своих собратьев, которые к тому же отживают век и в модерновых версиях браузеров могут просто не появится с выходом очередной версии. 